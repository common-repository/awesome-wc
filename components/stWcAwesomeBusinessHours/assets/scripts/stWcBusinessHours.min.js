Vue.component("st-wc-business-hours",{template:'\n    <v-col cols="12" class="awesome-business-hours">\n        <v-row v-if="show(day)" v-for="day in days" :key="day" :class="currentDayClass(day)" :style="currentDayStyle(day)">\n            <v-col cols="12" class="text-capitalize d-flex justify-space-between" :class="denseClass">\n            <span>{{ day }}</span>\n            <span>{{ businessHours(day) }}</span>\n            </v-col>\n        </v-row>\n    </v-col>\n    ',props:{settings:{type:Object},active:{type:Boolean,default:!0}},data(){return{days:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],sunday:this.settings.sunday,monday:this.settings.monday,tuesday:this.settings.tuesday,wednesday:this.settings.wednesday,thursday:this.settings.thursday,friday:this.settings.friday,saturday:this.settings.saturday,highlightCurrent:this.toBool(this.settings.highlightCurrent),highlightColor:this.settings.highlightColor,highlightStyle:this.settings.highlightStyle,currentDayOnly:this.toBool(this.settings.currentDayOnly),dense:this.toBool(this.settings.dense),format24hour:this.toBool(this.settings.format24hour),regexp24hour:/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/im,regexp12hour:/^(1[0-2]|0?[1-9]):[0-5][0-9]\s?([ap]m)$/im}},mounted(){this.active||stBus.$on("update-setting",({option:option,value:value})=>{this[option]=value})},beforeDestroy(){this.active||stBus.$off("update-setting")},methods:{toBool:value=>[1,"1",!0,"true"].includes(value),show(day){return!this.currentDayOnly||this.isCurrentDay(day)},isCurrentDay(day){return day===this.currentDay},currentDayClass(day){return this.isCurrentDay(day)&&this.highlightCurrent?"st-wc-"+this.highlightStyle:""},currentDayStyle(day){return this.isCurrentDay(day)&&this.highlightCurrent?"background-color: "+this.highlightColor+" !important;":""},businessHours(day){return this[day].closed?"Closed":this.parseHours(this[day].opens,this[day].closes)},parseHours(opening,closing){const convert=this.format24hour?"convertTo24":"convertTo12";return this[convert](opening,!0)+" - "+this[convert](closing,!1)},convertTo12(time,opening=!1){if(this.regexp24hour.test(time)){let[hh,mm]=time.split(":");const hours=parseInt(hh),daytime=hours<12?"AM":"PM";var hour=hours%12||12;return(hour=hour<10?"0"+hour:hour)+":"+mm+daytime}return this.regexp12hour.test(time)?time:opening?"08:00AM":"05:00PM"},convertTo24(time,opening=!1){if(this.regexp12hour.test(time)){const daytime=(time=time.toLowerCase()).includes("am")?"am":"pm";let[hh,mm]=time.replace(daytime,"").split(":");const hours="12"===hh?"00":"pm"===daytime?parseInt(hh)+12:hh;return hours+":"+mm}return this.regexp24hour.test(time)?time:opening?"08:00":"17:00"}},computed:{currentDay(){return this.days[(new Date).getDay()]},denseClass(){return{"py-1":this.dense}}}});